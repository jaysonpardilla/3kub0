<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <title>E-Kubo: Shops</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Icons -->
    <link href="{% static 'libs/bootstrap-icons/font/bootstrap-icons.min.css' %}" rel="stylesheet" />
    <link href="{% static 'libs/feather-webfont/dist/feather-icons.css' %}" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/slideup.css' %}">

    <style>
        body {
            background-color: #EDEBE2;
        }

        .business-card {
            background-color: #FBF3DDBC;
            border-radius: 12px;
            transition: transform 0.2s ease;
        }

        .business-card:hover {
            transform: translateY(-3px);
        }

        .business-image-wrapper {
            display: flex;
            justify-content: center;
            margin-top: -30px;
        }

        .business-image-wrapper img {
            height: 70px;
            width: 90px;
            object-fit: cover;
            border-radius: 6px;
            box-shadow: 1px 1px 4px rgba(0,0,0,0.3);
            background: #fff;
        }
    </style>
</head>

<body>
{% include 'chat/navbar.html' %}

<div class="container py-4">

    <!-- Page Title -->
    <div class="mb-4">
        <h4 class="fw-bold">Shop Lists</h4>
        <p class="text-muted mb-0">
            We have <span class="text-success fw-semibold">{{ total_shop }}</span> vendors now
        </p>
    </div>

    <!-- Shop Grid -->
    <div class="row g-4">
        {% for shop in shop %}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">

            <a href="{% url 'shops:view_shop' shop.id %}" class="text-decoration-none text-dark">

                <div class="card business-card h-100 p-3">

                    <!-- Image -->
                    <div class="business-image-wrapper">
                        <img src="{{ shop.business_image_url }}" alt="{{ shop.business_name }}">
                    </div>

                    <!-- Content -->
                    <div class="card-body text-center pt-4 px-2">

                        <h6 class="fw-bold mb-1">
                            {{ shop.business_name|title }}
                        </h6>

                        <p class="small text-muted mb-2">
                            {{ shop.business_description|title }}
                        </p>

                        <p class="small mb-1">
                            <strong>Message owner:</strong>
                            <a href="{% url 'chat:chat_with' shop.user.id %}" class="text-primary">
                                Message
                            </a>
                        </p>

                        <div class="text-start small mt-2">
                            <strong>Shipping:</strong>
                            <ul class="mb-2 ps-3">
                                <li>Delivery</li>
                                <li>Pickup</li>
                            </ul>
                        </div>

                        <span class="badge bg-light text-dark border">
                            Available products: {{ shop.products.count }}
                        </span>

                    </div>
                </div>

            </a>
        </div>
        {% endfor %}
    </div>

</div>

{% include 'chat/footer.html' %}

<!-- JS -->
<script src="{% static 'js/slideup.js' %}"></script>
<script src="{% static 'js/conversation.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
